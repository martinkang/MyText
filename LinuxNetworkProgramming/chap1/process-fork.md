# 프로세스 복사 함수 fork(2) 와 프로세스 대체 함수 exec(3)

## fork 
	> pid_t fork(void);
	> 반환값
	>	* 0 : 자식 프로세스에게 리턴되는 값
	>	* >0 : 부모프로세스에게 리턴되는, 생성된 자식 프로세스의 PID
	>	* > -1 에러
	
	* 자식은 부모 프로세스의 복사본이며, 코드(텍스트) 세그먼트는 복사하지 않고 공유한다.
	* 자식과 부모는 메모리 영역을 공유하지 않고 복사한다.
	* 부모와 자식중 누가 먼저 실행될 지 모른다.
	* Copy on write ( COW )
		- 부모와 자식이 모든 영역을 공유하고 있다가 서로 메모리 이미지가 달라지는 시점에서 부분만 복사하는 것 
		( 복사의 단위는 page )
	- 용어
		* parent process
			- 복제할 원본 프로세스
		* child process
			- 새로이 복제된 프로세스
	* 장점
		- 멀티태스킹 : 복제된 자식 프로세스는 부모 프로세스와 독립적으로 작동
	* 단점
		- 복제된 프로레스 사이에 데이터를 주고받는 구조이고, 데이터 통신 처리에 드는 비용이 크다면 성능 하락이 일어날 수 있다.

* vfork
	* fork 후에 곧바로 exec 계열 함수를 호출하는 경우가 있는데 이 때 모든 메모리가 복사되었다가
	해제되므로 무겁다는 단점을 해결하기 위해 사용하였다.
	* 부모 프로세스와 자식 프로세스가 모든 것을 공유한다.
	* 자식부터 실행이 되는 것을 보장한다.


* system(3)
	- 쉘(sh) 를 실행시켜서 프로그램을 실행
	- 명령어가 실행되는 동안 함수는 블록되어지며, 이외에 SIGCHLD 시그널은 블록, SIGINT, SIGQUIT 시그널은 무시되어진다.
	- system(3) 은 이런 시그널이 블록킹 되어 외부에서 종료할 수 없게 되므로 종종 프로세스를 종료시킬 수 없다는 단점이 있다.



#
