# 프록시 ( Proxy )
* 프록시
	- 대리자
	-대리인

## 프록시 패턴 ( Proxy Pattern )
* 다른 객체에 대한 접근을 제어하기 위한 대리자 또는 자리채움자 역할을 하는 객체를 만드는 패턴.


## 사용 동기
* 왜 객체에 대한 접근을 제어할까?
	- 객체의 생성에 드는 비용 및 시간을 피하기 위해
		- 가상 프록시
	- 원격에 있는 지역 객체를 제어하기 위해
		- 원격지 프록시
	- 민감한 객체를 보호하기 위해
		- 보호 프록시
	- 실제 객체로의 접근이 발생할 때 추가적인 행동을 수행하기 위해 
		- 스마트 참조자



## 구조
##### 프록시 구조
![img]()

* Proxy
	* 역할
		- 실제로 참조할 대상에 대한 참조자를 관리.
		- Subject 와 동일한 인터페이스를 제공하여 실제 대상을 대체할 수 있어야 한다.
		- 실제 대상에 대한 접근을 제어한다.
		- 실제 대상의 생성과 삭제를 책임진다.
	* 종류에 따라 수행하는 일
		- 원격지 프록시
			- 요청 메시지와 인자를 인코딩하여 이를 다른 주소 공강에 있는 실제 대상에 전달
		- 가상 프록시
			- 실제 대상에 대한 추가적인 정보를 보유하여 실제 접근을 지연
		- 보호 프록시
			- 요청한 대상이 실제 요청할 수 있는 권한이 있는지 확인
* Subject
	* 역할
		- Real Subject 와 Proxy 에 공통적인 인터페이스를 정의하여, Real Subject 가 요청되는 곳에 Proxy 를 사용할 수 있게 한다.
* Real Subject
	* 역할
		- 프록시가 대표하는 실제 객체



## 활용
### 원격지 프록시 ( Remote Proxy )
	- 서로 다른 주소 공간에 존재하는 객체를 가리키는 대표 객체로, 로컬 환경에 위치.
	- 즉 현재 공간 ( 로컬 환경 ) 객체에 명령을 내리면,  이 명령을 원격에 있는 실제 객체에 전달
![img1]()


### 가상 프록시 ( Virtual Proxy )
	- 요청이 있을 때만 필요한 고비용 객체를 생성.
	- 고비용 객체를 가상 프록시를 이용하여 백그라운드로 처리하게 하여 이 작업이 완료될 때까지 기다리지 않고
	다른 작업을 수행할 수 있다.
![img2]()


### 보호 프록시 ( Protection Proxy )
	- 원래 객체에 대한 실제 접근을 제어.
	- 실제 객체에 대한 접근이 발생했을 때, 접근에 대한 제어 검사를 수행하여 보호된 접근을 할 수 있도록 한다
![img3]()

### 스마트 참조자 ( Smart Reference )
	- 원시 포인터의 대체용 객체로, 실제 객체에 접근이 일어날 대 추가적인 행동을 수행
	- 예 ) 스마트 포인터
		- 실제 객체에 대한 참조 횟수를 저장하다가 더는 참조가 없을 대 해당 객체를 자동으로 없앤다.
![img4]()


### 기록 시점 복사 ( Copy On Write )
	- 요구가 들어올 때만 객체를 생성하는 개념의 최적화.
	- 사본이 변경되지 않고 원본과 똑같다면, 굳이 이 비용을 물지 않고, 
	실제 사본이 수정될 때만 복사 비용을 발생.





