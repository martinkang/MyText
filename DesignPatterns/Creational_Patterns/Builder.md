# Builder

## 동기
* 복잡한 객체의 생성 루틴을 객체의 표현과 분리하하여
동일한 생성 절차로 서로 다른 제품을 제공.


## 활용성
	- 복합 객체의 생성 알고리즘이 이를 합성하는 요소 객체들이 무엇인지 이들의 조립 방법에 독립적일 때
	- 합성 객체들의 표현이 서로 다르더라도 생성 절차에서 이를 지원해야 할 때


#### Builder 구조
![img1](http://www.codeproject.com/KB/architecture/csdespat_1/dpcs_b.gif)


## 참여자
* Builder ( MazeBuilder )
	- Product 객체의 일부 요소들을 생성하기 위한 추상 인터페이스를 정의
* ConcreteBuilder ( StandardMazeBuilder, CountingMazeBuilder )
	- 빌더 클래스에 정의된 인터페이스를 구현하며, 제품의 부품들을 모아 빌더를 복합한다.
	- 생성한 요소의 표현을 정의하고 관리한다.
* Director ( MazeLoader )
	- 빌더 인터페이스를 사용하는 객체를 합성한다.
* Product ( StandardMaze, CountingMaze  )
	- 생성할 복합 객체를 표현.


## 결과
* 장점
	- 제품에 대한 내부 표현을 다양하게 변화할 수 있다.
	- 생성과 표현에 필요한 코드를 분리한다.
	- 복합 객체를 생성하는 절차를 좀더 세밀하게 나눌 수 있다.


## 구현
- 제품에 대한 추상 클래스는 필요 없는가?
	- 일반적으로 제품은 상세화된 빌더 클래스의 서브 클래스로 생성되는데, 제품마다 그 제품을 표현하는 방법이 다르고
	이것에서 어떠한 공통점도 찾을 수 없기 때문에, 추상 클래스의 이점이 없다.
- Builder 에 있는 메서드에 대해서는 구현을 제공하지 않는게 일반적
	- C++ 로 구현할 때는, 빌더에 정의된 메서드를 의도적으로 가상 함수로 정의하지 않는다.
		- 구현부를 비워둔다.
	- 이는 서브클래스에서 모든 가상 함수가 아니고 필요한 메서드만 재정의 하기 위해서.


## 기타
	- Factory Method 와 Builder 의 차이는 ?
		- 생성 시점의 차이?
			- Factory 는 그때 그때 인풋에 따라 동적으로 생성을 해주고
			Builder 는 미리 만들어진 객체의 틀을 불러온다.
	- Abstract Factory 와 Builder 의 차이는?
		- Abstract Factory 는 어떤 제품에 대한 구성 요소들을 만들기만 하고 조립 과정은 하지 않는다.
		하지만 Builder 는 제품의 구성요소를 생성하고 조립까지 다 하여 이를 반환한다.
		알맞게 조립.
